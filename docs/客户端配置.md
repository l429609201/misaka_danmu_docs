# 📱 客户端配置

本文档介绍如何在各种播放器中配置弹幕接口，以使用御坂网络弹幕服务。

[[toc]]

## 前置条件

1. 已成功部署御坂网络弹幕服务
2. 获取 API Token：登录 Web UI 后在 "设置" → "API Token" 中生成
3. 记录服务器地址和端口（默认 7768）

## 通用配置信息

所有客户端都需要以下信息：

- **弹幕服务器地址**：`http://<您的服务器IP>:7768`
- **API Token**：在 Web UI 中生成的 Token
- **API 类型**：dandanplay 兼容模式

## 支持的客户端

### Yamby

**平台**：iOS / iPadOS

**配置步骤**：

1. 打开 Yamby 应用
2. 进入 "设置" → "弹幕设置"
3. 选择 "自定义弹幕服务器"
4. 填入以下信息：
   - 服务器地址：`http://<IP>:7768`
   - API Token：您的 Token
5. 保存配置

### Hills

**平台**：iOS / iPadOS

**配置步骤**：

1. 打开 Hills 应用
2. 进入 "设置" → "弹幕"
3. 选择 "dandanplay API"
4. 填入：
   - 服务器：`http://<IP>:7768`
   - Token：您的 Token
5. 保存并测试连接

### 小幻影视

**平台**：Android / iOS

**配置步骤**：

1. 打开小幻影视
2. 进入 "设置" → "弹幕设置"
3. 启用 "自定义弹幕源"
4. 输入：
   - API 地址：`http://<IP>:7768`
   - Token：您的 Token
5. 保存配置

### SenPlayer

**平台**：Windows / macOS

**配置步骤**：

1. 打开 SenPlayer
2. 进入 "设置" → "弹幕"
3. 选择 "自定义弹幕服务"
4. 配置：
   - 服务器 URL：`http://<IP>:7768`
   - API Key：您的 Token
5. 应用设置

### Afusekt

**平台**：Android TV / 智能电视

**配置步骤**：

1. 打开 Afusekt
2. 进入 "设置" → "弹幕配置"
3. 选择 "dandanplay 兼容模式"
4. 输入：
   - 服务器：`http://<IP>:7768`
   - Token：您的 Token
5. 保存并重启应用

### dd-danmaku (弹弹play 客户端)

**平台**：Windows / macOS / Linux

**配置步骤**：

1. 打开弹弹play 客户端
2. 进入 "设置" → "弹幕"
3. 选择 "自定义弹幕服务器"
4. 配置：
   - 服务器地址：`http://<IP>:7768`
   - API Token：您的 Token
5. 保存并测试

## Emby / Jellyfin / Plex 插件

对于媒体服务器，可以通过安装弹幕插件来集成：

### Emby 弹幕插件

1. 下载 Emby 弹幕插件
2. 将插件放入 Emby 的 `plugins` 目录
3. 重启 Emby
4. 在 Emby 控制台配置弹幕服务器地址和 Token

### Jellyfin 弹幕插件

1. 在 Jellyfin 控制台进入 "插件" → "存储库"
2. 添加自定义存储库
3. 安装弹幕插件
4. 配置服务器地址和 Token

### Plex 弹幕支持

Plex 需要通过第三方插件或外部工具来支持弹幕。

## 常见问题

### 无法连接到服务器

1. 检查服务器是否正常运行
2. 确认防火墙允许 7768 端口
3. 检查 IP 地址和端口是否正确
4. 尝试使用 `http://` 而非 `https://`

### Token 无效

1. 在 Web UI 中重新生成 Token
2. 确认复制的 Token 没有多余空格
3. 检查 Token 是否过期或被禁用

### 弹幕不显示

1. 确认已安装弹幕源：[弹幕源管理](/advanced/弹幕源管理)
2. 检查媒体文件是否正确匹配
3. 在 Web UI 中搜索该媒体，查看是否有弹幕数据
4. 查看客户端日志排查错误

### 弹幕延迟或不同步

这通常是客户端问题，请在客户端设置中调整弹幕延迟。

---

## 📚 相关文档

- **[🎬 弹幕功能配置](/advanced/弹幕功能配置)** - Token 管理、输出控制等
- **[🔧 弹幕源管理](/advanced/弹幕源管理)** - 弹幕源加载与管理
- **[❓ 常见问题](/常见问题)** - 更多故障排除

