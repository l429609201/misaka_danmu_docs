# 🔧 弹幕源管理

弹幕源是提供弹幕数据的插件或服务。本文档介绍如何管理弹幕源。

[[toc]]

## 弹幕源类型

- **在线弹幕源** - 从互联网获取弹幕
- **本地弹幕源** - 使用本地弹幕文件
- **自定义弹幕源** - 开发者自定义的弹幕源

## 安装弹幕源

### 从资源仓库安装

1. 登录 Web UI
2. 进入 **弹幕源** → **资源仓库**
3. 浏览可用的弹幕源
4. 点击 **安装** 按钮
5. 等待安装完成

### 上传离线包

1. 获取弹幕源离线包（.zip 文件）
2. 进入 **弹幕源** → **上传离线包**
3. 选择文件并上传
4. 等待安装完成

## 管理弹幕源

### 启用/禁用

在弹幕源列表中切换开关。

### 配置弹幕源

某些弹幕源需要额外配置（如 API Key），点击 **配置** 按钮进行设置。

### 更新弹幕源

点击 **检查更新** 按钮，系统会自动检查并更新弹幕源。

### 卸载弹幕源

点击 **卸载** 按钮删除弹幕源。

## 备份与恢复

### 备份弹幕源配置

1. 进入 **弹幕源** → **备份**
2. 点击 **导出配置**
3. 下载配置包

### 恢复弹幕源配置

1. 进入 **弹幕源** → **恢复**
2. 上传配置包
3. 确认恢复

## 开发自定义弹幕源

开发者可以创建自定义弹幕源插件。

### 基本结构

```python
class CustomDanmakuSource:
    def __init__(self):
        self.name = "自定义弹幕源"
        self.version = "1.0.0"
    
    def search(self, keyword):
        # 搜索逻辑
        pass
    
    def get_danmaku(self, episode_id):
        # 获取弹幕逻辑
        pass
```

详细开发文档请参考 GitHub 仓库。

## 常见问题

### 弹幕源安装失败

- 检查网络连接
- 查看系统日志
- 确认磁盘空间充足

### 弹幕源无法使用

- 检查弹幕源是否已启用
- 查看弹幕源配置是否正确
- 更新到最新版本

---

## 📚 相关文档

- **[🎬 弹幕功能配置](/advanced/弹幕功能配置)** - Token 管理等
- **[📱 客户端配置](/客户端配置)** - 配置播放器

