# 📂 本地剧集组

本地剧集组功能允许您通过 JSON 文件自定义剧集的分组和映射关系，解决多季合并、特殊分集编号等场景下的弹幕匹配问题。

> 此功能自 v2.5.1 起支持

![编辑影视信息-本地剧集组](/screenshot/编辑影视信息-本地剧集组.png)

---

## 功能说明

在某些情况下，媒体服务器中的剧集编号与弹幕源中的编号不一致：

- **多季合并**：媒体库将多季合并为一个文件夹，集数连续编号
- **特殊编排**：OVA、SP 等特殊集数的编号方式不同
- **平台差异**：不同平台对同一作品的分集方式不同

本地剧集组通过 JSON 配置文件，让您手动定义集数的映射关系。

---

## 配置方法

### JSON 文件格式

在配置目录下创建剧集组 JSON 文件，格式参考如下：

```json
{
  "name": "作品名称",
  "groups": [
    {
      "season": 1,
      "episodes": [
        {"local": 1, "source": 1},
        {"local": 2, "source": 2}
      ]
    },
    {
      "season": 2,
      "episodes": [
        {"local": 13, "source": 1},
        {"local": 14, "source": 2}
      ]
    }
  ]
}
```

### 字段说明

| 字段 | 类型 | 说明 |
|------|------|------|
| `name` | string | 作品名称，用于匹配 |
| `groups` | array | 剧集分组列表 |
| `season` | number | 季数编号 |
| `episodes` | array | 集数映射列表 |
| `local` | number | 本地文件的集数编号 |
| `source` | number | 弹幕源中对应的集数编号 |

---

## 使用场景

### 多季合并编号

当媒体库中多季连续编号时（如第二季从第 13 集开始），可以通过剧集组将本地集数映射到弹幕源的正确集数。

### OVA / SP 特殊集

对于 OVA、SP 等特殊集数，可以单独配置映射关系，确保弹幕正确匹配。

### 自定义分集

某些作品在不同平台的分集方式不同（如合并放送），可以通过剧集组灵活配置。

---

## 注意事项

::: tip 提示
- 本地剧集组的优先级高于自动匹配
- JSON 文件格式需要严格遵循规范，否则可能无法正确解析
- 修改 JSON 文件后需要重新加载才能生效
:::

---

## 📚 相关文档

- **[📚 弹幕库管理](/advanced/弹幕库管理)** - 弹幕库管理
- **[⏰ 定时任务](/ops/定时任务)** - TMDB 自动刮削与剧集组映射
- **[📱 客户端配置](/客户端配置)** - 播放器配置

