# 🎬 元数据源配置

元数据源用于获取影视作品的详细信息，帮助系统更准确地匹配弹幕。

[[toc]]

## 支持的元数据源

御坂网络弹幕服务支持以下元数据源：

- **TMDB** (The Movie Database) - 推荐，数据最全
- **TVDB** (The TV Database) - 电视剧数据库
- **Bangumi** - 动漫番组计划
- **Douban** - 豆瓣电影
- **IMDb** - 互联网电影数据库

## TMDB 配置

### 获取 API Key

1. 访问 [TMDB 官网](https://www.themoviedb.org/)
2. 注册并登录账号
3. 进入 **Settings** → **API**
4. 点击 **Request an API Key**
5. 选择 **Developer** 类型
6. 填写应用信息（可随意填写）
7. 同意条款后获取 **API Key (v3 auth)**

### 在系统中配置

1. 登录 Web UI
2. 进入 **设置** → **元数据源配置**
3. 找到 **TMDB** 配置项
4. 填入 API Key
5. 保存配置

## TVDB 配置

### 获取 API Key

1. 访问 [TVDB 官网](https://thetvdb.com/)
2. 注册并登录账号
3. 进入 **Dashboard** → **API Keys**
4. 点击 **Create API Key**
5. 填写应用名称和描述
6. 获取 **API Key**

### 在系统中配置

1. 登录 Web UI
2. 进入 **设置** → **元数据源配置**
3. 找到 **TVDB** 配置项
4. 填入 API Key
5. 保存配置

## Bangumi 配置

### 获取 Access Token

1. 访问 [Bangumi](https://bgm.tv/)
2. 注册并登录账号
3. 进入 **设置** → **开发者设置**
4. 创建新应用
5. 获取 **Access Token**

### 在系统中配置

1. 登录 Web UI
2. 进入 **设置** → **元数据源配置**
3. 找到 **Bangumi** 配置项
4. 填入 Access Token
5. 保存配置

## Douban 配置

豆瓣 API 目前限制较多，建议作为备用数据源。

### 配置方法

1. 登录 Web UI
2. 进入 **设置** → **元数据源配置**
3. 启用 **Douban** 数据源
4. 无需 API Key（使用公开接口）

::: warning 注意
豆瓣公开接口有频率限制，建议配合其他数据源使用。
:::

## IMDb 配置

IMDb 数据通常通过 TMDB 间接获取，无需单独配置。

## 配置优先级

系统会按照以下优先级查询元数据：

1. **TMDB** - 首选，数据最全面
2. **TVDB** - 电视剧补充
3. **Bangumi** - 动漫作品
4. **Douban** - 备用数据源
5. **IMDb** - 通过 TMDB 获取

可以在 Web UI 中调整优先级顺序。

## 常见问题

### API Key 无效

- 检查是否复制完整
- 确认 API Key 类型正确（v3 或 v4）
- 检查 API Key 是否激活

### 无法连接到元数据服务

- 检查网络连接
- 确认服务器可以访问外网
- 海外 VPS 可能被封禁，参考 [常见问题](/faq#overseas-vps)

### 匹配不准确

- 配置多个元数据源提高准确率
- 使用 AI 功能辅助匹配：[AI 配置](/config/ai)
- 手动修正错误匹配

---

## 📚 相关文档

- **[🤖 AI 功能配置](/config/ai)** - AI 智能匹配
- **[🔗 Webhook 配置](/config/webhook)** - 自动化集成
- **[❓ 常见问题](/faq)** - 故障排除

