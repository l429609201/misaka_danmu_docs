# ğŸ“‹ å¼€å‘æµç¨‹æŒ‡å—

## å¼€å‘æµç¨‹æ¦‚è§ˆ

1. **å…‹éš†é¡¹ç›®** åˆ°æœ¬åœ°
2. **ä¸‹è½½ä¾èµ–æ–‡ä»¶** - ä»å…¬å…±ä»“åº“ä¸‹è½½ `*.so` æ–‡ä»¶
3. **å®‰è£…ä¾èµ–** - å®‰è£…åç«¯å’Œå‰ç«¯ä¾èµ–
4. **é…ç½®å‚æ•°** - é…ç½®æ•°æ®åº“ç­‰å‚æ•°
5. **å¯åŠ¨åç«¯** - è¿è¡Œ FastAPI æœåŠ¡
6. **å¯åŠ¨å‰ç«¯** - è¿è¡Œ Vite å¼€å‘æœåŠ¡å™¨

---

## æ­¥éª¤ 1: å…‹éš†é¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®åˆ°æœ¬åœ°
git clone https://github.com/l429609201/misaka_danmu_server.git
cd misaka_danmu_server
```

## æ­¥éª¤ 2: ä¸‹è½½ä¾èµ–æ–‡ä»¶

ä» [å…¬å…±èµ„æºä»“åº“](https://github.com/l429609201/Misaka-Scraper-Resources) çš„ `src/` ç›®å½•æ ¹æ®ä½ æµ‹è¯•å¹³å°çš„æ¶æ„ï¼Œé€‰æ‹©æ€§çš„ä¸‹è½½ä¸¤ä¸ª `.so` æ–‡ä»¶ï¼Œæ”¾åˆ°é¡¹ç›®çš„ `src/` ç›®å½•ä¸‹ï¼š

```bash
# ä»å…¬å…±ä»“åº“ä¸‹è½½ä»¥ä¸‹æ–‡ä»¶ï¼š
# https://github.com/l429609201/Misaka-Scraper-Resources/tree/main/src
#
# ä¸‹è½½åæ”¾åˆ°é¡¹ç›®çš„ src/ ç›®å½•ï¼š
# - src/rate_limiter.so
# - src/security_core..so
```

::: warning é‡è¦
è¿™ä¸¤ä¸ª `.so` æ–‡ä»¶æ˜¯å¿…éœ€çš„è¿è¡Œæ—¶ä¾èµ–ï¼Œç¼ºå°‘è¿™äº›æ–‡ä»¶å°†æ— æ³•æ­£å¸¸å¯åŠ¨æœåŠ¡ã€‚
:::

## æ­¥éª¤ 3: å®‰è£…ä¾èµ–

### åç«¯ä¾èµ– (Python)

```bash
# ä½¿ç”¨ pip å®‰è£…
pip install -r requirements.txt

# æˆ–ä½¿ç”¨ uv (æ¨èï¼Œæ›´å¿«)
uv pip install -r requirements.txt
```

### å‰ç«¯ä¾èµ– (Node.js)

```bash
cd web
pnpm install
```

## æ­¥éª¤ 4: é…ç½®å‚æ•°

å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿å¹¶ä¿®æ”¹ï¼š

```bash
# åˆ›å»ºé…ç½®ç›®å½•
mkdir -p config

# ç¼–è¾‘é…ç½®æ–‡ä»¶ config/config.yml
```

é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆMySQLï¼‰ï¼š

```yaml
database:
  type: mysql
  host: localhost
  port: 3306
  name: danmuapi
  user: root
  password: your_password
```

é…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼ˆPostgreSQLï¼‰ï¼š

```yaml
database:
  type: postgresql
  host: localhost
  port: 5432
  name: danmuapi
  user: postgres
  password: your_password
```

::: warning æ³¨æ„
å¼€å‘ç¯å¢ƒå¿…é¡»ä½¿ç”¨ **MySQL** æˆ– **PostgreSQL** æ•°æ®åº“ï¼Œä¸æ”¯æŒ SQLiteã€‚
:::

## æ­¥éª¤ 5: å¯åŠ¨åç«¯

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å¯åŠ¨åç«¯
python src/main.py
```


## æ­¥éª¤ 6: å¯åŠ¨å‰ç«¯

```bash
# è¿›å…¥å‰ç«¯ç›®å½•
cd web

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

å‰ç«¯å¯åŠ¨åï¼Œè®¿é—® `http://localhost:5173` å³å¯çœ‹åˆ°å¼€å‘ç•Œé¢ã€‚

---

## æäº¤ä»£ç 

### åˆ†æ”¯è¯´æ˜

| åˆ†æ”¯ | è¯´æ˜ |
|------|------|
| `main` | ç¨³å®šç‰ˆæœ¬åˆ†æ”¯ |
| `dev` | å¼€å‘åˆ†æ”¯ |

### æäº¤è§„èŒƒ

| ç±»å‹ | è¯´æ˜ |
|------|------|
| `feat` | æ–°åŠŸèƒ½ |
| `fix` | Bug ä¿®å¤ |
| `docs` | æ–‡æ¡£æ›´æ–° |
| `refactor` | ä»£ç é‡æ„ |

**ç¤ºä¾‹ï¼š**
```
feat: æ·»åŠ èŠ’æœTVå¼¹å¹•æºæ”¯æŒ
fix: ä¿®å¤å¼¹å¹•è·å–å¤±è´¥çš„é—®é¢˜
```

---

::: tip æç¤º
å¦‚æœæ‚¨ä¸ç¡®å®šå¦‚ä½•å¼€å§‹ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹ [Issues](https://github.com/l429609201/misaka_danmu_server/issues) ä¸­çš„é—®é¢˜ã€‚
:::

